<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FSA JAMB PRACTICES APP 2026</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --jamb-blue: #1a237e;
            --jamb-red: #b71c1c;
            --accent-gold: #ffd700;
            --bg-color: #f4f7f9;
            --card-bg: #ffffff;
            --text-color: #212529;
        }

        [data-theme="dark"] {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-color: #e0e0e0;
            --jamb-blue: #3949ab;
        }

        body { background-color: var(--bg-color); color: var(--text-color); font-family: 'Inter', sans-serif; transition: 0.3s; min-height: 100vh; }
        
        .top-bar { 
            background: var(--jamb-blue); 
            color: white; padding: 1rem; 
            border-bottom: 4px solid var(--accent-gold);
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 1000;
        }

        .subject-card {
            background: var(--card-bg); border-radius: 12px; padding: 20px;
            text-align: center; cursor: pointer; transition: 0.3s;
            border: 2px solid transparent; color: var(--text-color);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .subject-card:hover { transform: translateY(-5px); border-color: var(--jamb-blue); }
        .subject-card.selected { border-color: #28a745; background-color: rgba(40, 167, 69, 0.1); }
        
        .question-box {
            background: var(--card-bg); padding: 25px; border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); min-height: 450px;
        }

        .q-num {
            width: 35px; height: 35px; font-size: 12px; display: flex;
            align-items: center; justify-content: center; border: 1px solid #ccc;
            border-radius: 4px; cursor: pointer; background: var(--card-bg);
        }
        .q-num.answered { background: #28a745 !important; color: white; border-color: #28a745; }
        .q-num.current { border: 2px solid var(--jamb-blue); font-weight: bold; transform: scale(1.1); }

        .explanation-box {
            display: none; background: #e8f5e9; color: #2e7d32;
            padding: 15px; border-radius: 8px; margin-top: 20px; border-left: 5px solid #2e7d32;
        }
        [data-theme="dark"] .explanation-box { background: #1b5e20; color: #c8e6c9; }

        .passage-pane {
            height: 400px; overflow-y: auto; background: #f8f9fa;
            border: 1px solid #ddd; border-radius: 8px; padding: 15px;
            font-size: 1rem; line-height: 1.6; color: #333;
        }
        [data-theme="dark"] .passage-pane { background: #2c2c2c; color: #ddd; border-color: #444; }
    </style>
</head>
<body>

<div class="top-bar">
    <h4 class="mb-0">ðŸŽ“ FSA JAMB PRACTICES</h4>
    <div class="d-flex align-items-center">
        <div id="timerDisplay" class="h4 mb-0 me-3 fw-bold">02:00:00</div>
        <button class="btn btn-outline-light btn-sm" onclick="toggleDarkMode()">ðŸŒ“ Mode</button>
    </div>
</div>

<div class="container mt-4 pb-5">
    <div id="dashboard">
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h2 class="fw-bold">FSA Examination Portal</h2>
                <p class="text-muted">Select 4 Subjects (English is Mandatory). Your hard work starts here.</p>
            </div>
        </div>
        <div class="row g-3" id="subjectGrid"></div>
        <div class="text-center mt-5">
            <button id="startBtn" class="btn btn-primary btn-lg px-5 disabled" onclick="startExam()">PROCEED TO EXAM</button>
        </div>
    </div>

    <div id="examInterface" style="display:none;">
        <div class="row">
            <div class="col-md-8">
                <div class="question-box">
                    <div class="d-flex justify-content-between mb-3 align-items-center">
                        <span id="subjectTag" class="badge bg-primary fs-6">Subject</span>
                        <span id="qCounter" class="fw-bold">Q 1/180</span>
                    </div>
                    <hr>
                    <div id="qContentArea">
                        </div>
                    <div id="explBox" class="explanation-box"></div>
                </div>
                <div class="mt-4 d-flex justify-content-between">
                    <button class="btn btn-secondary px-4" onclick="changeQ(-1)">â¬… Previous</button>
                    <button class="btn btn-primary px-4" onclick="changeQ(1)">Next Question âž¡</button>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="card p-3 shadow-sm border-0 bg-transparent">
                    <h6 class="mb-3">Progress Map</h6>
                    <div id="navGrid" class="d-flex flex-wrap gap-1"></div>
                    <hr>
                    <button class="btn btn-danger w-100 fw-bold py-2" onclick="confirmSubmit()">SUBMIT EXAMINATION</button>
                </div>
            </div>
        </div>
    </div>

    <div id="resultArea" style="display:none;" class="text-center py-5">
        <div class="card p-5 shadow-lg border-0 m-auto" style="max-width: 650px; background: var(--card-bg);">
            <h1 class="fw-bold">Result Report</h1>
            <div id="aggScore" class="display-1 fw-bold my-4">000</div>
            <p class="text-muted">Estimated Aggregate Score</p>
            <div id="breakdown" class="text-start mb-4"></div>
            <div class="d-flex gap-2 justify-content-center">
                <button class="btn btn-success" onclick="enterReview()">Review Correct Answers</button>
                <button class="btn btn-outline-primary" onclick="location.reload()">Start New Practice</button>
            </div>
        </div>
    </div>
</div>

<script>
    // Extensive "Hard" Question Bank
    const db = {
        "English": [
            { 
                type: "passage", 
                passage: "The climate crisis in the Sahel region has reached a tipping point. Desertification is encroaching upon arable land at an alarming rate. This ecological shift has not only displaced thousands of farmers but has also intensified the struggle for meager resources between herders and sedentary agriculturists. Government intervention remains sluggish, leaving the local populations to fend for themselves in an increasingly hostile environment.",
                q: "According to the passage, the primary cause of conflict is?", 
                options: ["Religious differences", "Resource scarcity due to ecological shift", "Lack of education", "Urbanization"], 
                a: 1, 
                e: "The text states the ecological shift intensified the struggle for 'meager resources'." 
            },
            { q: "Choose the word nearest in meaning to <b>Candid</b>.", options: ["Secretive", "Frank", "Vague", "Cruel"], a: 1, e: "Candid means truthful and straightforward; Frank is the synonym." },
            { q: "The boss insisted that the report ___ submitted by noon.", options: ["is", "be", "was", "must"], a: 1, e: "This uses the subjunctive mood, which requires the base form 'be' regardless of the subject." }
        ],
        "Mathematics": [
            { q: "Evaluate $\\int_{1}^{2} (3x^2 - 4x) dx$.", options: ["1", "2", "3", "4"], a: 0, e: "Integration: $[x^3 - 2x^2]_1^2 = (8-8) - (1-2) = 0 - (-1) = 1$." },
            { q: "If $log_{10}2 = 0.3010$, find $log_{10}5$.", options: ["0.4771", "0.6990", "1.3010", "0.5000"], a: 1, e: "$log_{10}5 = log_{10}(10/2) = log_{10}10 - log_{10}2 = 1 - 0.3010 = 0.6990$." }
        ],
        "Economics": [
            { q: "A major cause of inflation in a developing economy is?", options: ["Budget surplus", "Increase in production", "Excessive money supply", "Decrease in government spending"], a: 2, e: "Inflation is often caused by 'too much money chasing too few goods'." }
        ],
        "Government": [
            { q: "The 1979 Constitution of Nigeria introduced?", options: ["Parliamentary system", "Presidential system", "Monarchy", "Unitary system"], a: 1, e: "The 1979 constitution marked the shift to the Presidential system." }
        ],
        "Literature": [
            { q: "A poem of fourteen lines is a/an?", options: ["Ode", "Elegy", "Sonnet", "Epic"], a: 2, e: "A Sonnet is a 14-line poem with a specific rhyme scheme." }
        ],
        "Physics": [
            { q: "The rate of change of momentum is proportional to?", options: ["Velocity", "Acceleration", "Applied Force", "Inertia"], a: 2, e: "This is Newton's Second Law: $F = \Delta p / \Delta t$." }
        ],
        "Chemistry": [
            { q: "The oxidation state of Manganese in $KMnO_4$ is?", options: ["+2", "+5", "+7", "+4"], a: 2, e: "$1 + x + (4 \times -2) = 0 \implies x - 7 = 0 \implies x = +7$." }
        ],
        "Biology": [
            { q: "The site of aerobic respiration in the cell is?", options: ["Ribosome", "Nucleus", "Mitochondria", "Vacuole"], a: 2, e: "Mitochondria are the powerhouses where ATP is produced via respiration." }
        ]
    };

    const subjects = [
        { name: "English", icon: "ðŸ“š", dept: "General" },
        { name: "Mathematics", icon: "ðŸ“", dept: "Science/Comm" },
        { name: "Economics", icon: "ðŸ“ˆ", dept: "Comm" },
        { name: "Government", icon: "ðŸ›ï¸", dept: "Arts" },
        { name: "Literature", icon: "ðŸ“–", dept: "Arts" },
        { name: "Physics", icon: "âš›ï¸", dept: "Science" },
        { name: "Chemistry", icon: "ðŸ§ª", dept: "Science" },
        { name: "Biology", icon: "ðŸ§¬", dept: "Science" },
        { name: "Commerce", icon: "ðŸ’¼", dept: "Comm" }
    ];

    let selected = ["English"];
    let examQs = [];
    let currentIdx = 0;
    let userAns = {};
    let isReview = false;
    let timerInterval;

    function init() {
        const grid = document.getElementById('subjectGrid');
        subjects.forEach(s => {
            const card = document.createElement('div');
            card.className = "col-md-4 col-lg-3";
            card.innerHTML = `<div class="subject-card ${s.name==='English'?'selected':''}" id="s-${s.name}" onclick="select('${s.name}')">
                <div class="fs-2">${s.icon}</div><h5 class="mt-2">${s.name}</h5><small>${s.dept}</small>
            </div>`;
            grid.appendChild(card);
        });
    }

    function select(name) {
        if(name === 'English') return;
        const i = selected.indexOf(name);
        if(i > -1) selected.splice(i, 1);
        else if(selected.length < 4) selected.push(name);
        
        document.querySelectorAll('.subject-card').forEach(c => c.classList.remove('selected'));
        selected.forEach(s => document.getElementById(`s-${s}`).classList.add('selected'));
        document.getElementById('startBtn').classList.toggle('disabled', selected.length < 4);
    }

    function startExam() {
        selected.forEach(s => {
            const qs = db[s] || [{q: `Is this a sample ${s} question?`, options: ["Yes","No","Maybe","None"], a: 0, e: "Sample explanation for "+s}];
            examQs = examQs.concat(qs.map(q => ({...q, sub: s})));
        });
        document.getElementById('dashboard').style.display = 'none';
        document.getElementById('examInterface').style.display = 'block';
        startTimer();
        renderQ();
    }

    function renderQ() {
        const q = examQs[currentIdx];
        document.getElementById('subjectTag').innerText = q.sub;
        document.getElementById('qCounter').innerText = `Q ${currentIdx + 1}/${examQs.length}`;
        
        const area = document.getElementById('qContentArea');
        area.innerHTML = '';

        if(q.type === 'passage') {
            area.innerHTML = `
                <div class="row">
                    <div class="col-md-6"><div class="passage-pane mb-3">${q.passage}</div></div>
                    <div class="col-md-6"><h5>${q.q}</h5><div id="opts"></div></div>
                </div>`;
        } else {
            area.innerHTML = `<h4 class="mb-4">${q.q}</h4><div id="opts"></div>`;
        }

        const optsDiv = document.getElementById('opts');
        q.options.forEach((opt, i) => {
            let bClass = "btn-outline-primary";
            if(isReview) {
                if(i === q.a) bClass = "btn-success";
                else if(i === userAns[currentIdx]) bClass = "btn-danger";
            } else if(userAns[currentIdx] === i) bClass = "btn-primary";

            const btn = document.createElement('button');
            btn.className = `btn ${bClass} w-100 text-start p-3 mb-2`;
            btn.innerHTML = `<b>${String.fromCharCode(65+i)}.</b> ${opt}`;
            btn.onclick = () => { if(!isReview) { userAns[currentIdx] = i; renderQ(); renderNav(); } };
            optsDiv.appendChild(btn);
        });

        const ex = document.getElementById('explBox');
        if(isReview) {
            ex.style.display = 'block';
            ex.innerHTML = `<strong>FSA Explanation:</strong><br>${q.e}`;
        }
        renderNav();
    }

    function renderNav() {
        const grid = document.getElementById('navGrid');
        grid.innerHTML = '';
        examQs.forEach((_, i) => {
            const n = document.createElement('div');
            n.className = `q-num ${userAns[i]!==undefined?'answered':''} ${currentIdx===i?'current':''}`;
            n.innerText = i + 1;
            n.onclick = () => { currentIdx = i; renderQ(); };
            grid.appendChild(n);
        });
    }

    function changeQ(dir) {
        if(currentIdx + dir >= 0 && currentIdx + dir < examQs.length) {
            currentIdx += dir;
            renderQ();
        }
    }

    function startTimer() {
        let time = 7200;
        timerInterval = setInterval(() => {
            time--;
            let h = Math.floor(time/3600), m = Math.floor((time%3600)/60), s = time%60;
            document.getElementById('timerDisplay').innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
            if(time <= 0) submitExam();
        }, 1000);
    }

    function confirmSubmit() { if(confirm("Are you sure you want to end your exam?")) submitExam(); }

    function submitExam() {
        clearInterval(timerInterval);
        document.getElementById('examInterface').style.display = 'none';
        document.getElementById('resultArea').style.display = 'block';
        
        let correct = 0;
        let breakdownHTML = '';
        selected.forEach(s => {
            const subQs = examQs.filter(q => q.sub === s);
            const subCorrect = subQs.filter((q) => userAns[examQs.indexOf(q)] === q.a).length;
            correct += subCorrect;
            const perc = Math.round((subCorrect/subQs.length)*100);
            breakdownHTML += `<div class="mb-3"><div class="d-flex justify-content-between"><span>${s}</span><span>${subCorrect}/${subQs.length}</span></div>
                <div class="progress mt-1" style="height:12px"><div class="progress-bar bg-success" style="width:${perc}%"></div></div></div>`;
        });
        
        const score = Math.round((correct/examQs.length)*400);
        document.getElementById('aggScore').innerText = score;
        document.getElementById('aggScore').style.color = score >= 250 ? "#28a745" : (score >= 200 ? "#ffc107" : "#dc3545");
        document.getElementById('breakdown').innerHTML = breakdownHTML;
    }

    function enterReview() { isReview = true; currentIdx = 0; document.getElementById('resultArea').style.display = 'none'; document.getElementById('examInterface').style.display = 'block'; renderQ(); }
    
    function toggleDarkMode() {
        const body = document.documentElement;
        body.setAttribute('data-theme', body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
    }

    init();
</script>
</body>
</html>
