<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FSA JAMB PRACTICES 2026 - OFFICIAL MODE</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root { --jamb-blue: #0d47a1; --accent: #ffd600; --bg: #f0f2f5; --card: #ffffff; --text: #1c1e21; }
        [data-theme="dark"] { --bg: #18191a; --card: #242526; --text: #e4e6eb; --jamb-blue: #1565c0; }

        body { background-color: var(--bg); color: var(--text); font-family: 'Segoe UI', Roboto, sans-serif; transition: 0.3s; }
        .header { background: var(--jamb-blue); color: white; padding: 12px 20px; border-bottom: 4px solid var(--accent); position: sticky; top: 0; z-index: 1000; display: flex; justify-content: space-between; align-items: center; }
        
        /* Subject Tabs like real JAMB */
        .subject-tabs { display: flex; background: #e0e0e0; border-radius: 8px 8px 0 0; overflow: hidden; margin-top: 10px; }
        .sub-tab { flex: 1; padding: 12px; text-align: center; cursor: pointer; border-bottom: 3px solid transparent; font-weight: bold; transition: 0.2s; color: #555; }
        .sub-tab.active { background: var(--card); border-bottom: 3px solid var(--jamb-blue); color: var(--jamb-blue); }
        [data-theme="dark"] .subject-tabs { background: #3a3b3c; }

        .exam-container { background: var(--card); border-radius: 0 0 12px 12px; padding: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); min-height: 500px; }
        .q-circle { width: 38px; height: 38px; border-radius: 50%; border: 1px solid #ccc; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 13px; transition: 0.2s; background: var(--card); color: var(--text); }
        .q-circle.answered { background: #2e7d32 !important; color: white; border-color: #2e7d32; }
        .q-circle.current { border: 2px solid var(--jamb-blue); box-shadow: 0 0 8px rgba(13, 71, 161, 0.4); font-weight: bold; }
        
        .option-btn { display: block; width: 100%; text-align: left; padding: 14px 20px; margin-bottom: 12px; border: 1.5px solid #dee2e6; border-radius: 10px; background: none; color: var(--text); transition: 0.2s; }
        .option-btn:hover { background: rgba(13, 71, 161, 0.05); border-color: var(--jamb-blue); }
        .option-btn.selected { background: var(--jamb-blue); color: white; border-color: var(--jamb-blue); }

        .passage-box { height: 400px; overflow-y: auto; background: #f8f9fa; padding: 20px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; line-height: 1.7; color: #333; }
        [data-theme="dark"] .passage-box { background: #1c1c1c; border-color: #444; color: #ccc; }

        /* Calculator Styles */
        #calc-modal { display: none; position: fixed; top: 100px; right: 20px; width: 220px; background: #333; color: white; padding: 10px; border-radius: 10px; z-index: 2000; box-shadow: 0 8px 16px rgba(0,0,0,0.3); }
        .calc-display { width: 100%; height: 40px; background: #000; color: #0f0; border: none; text-align: right; padding: 5px; font-family: monospace; font-size: 20px; margin-bottom: 10px; }
        .calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; }
        .c-btn { padding: 10px; background: #444; border: none; color: white; cursor: pointer; border-radius: 4px; }
        .c-btn:hover { background: #555; }
        .c-op { background: #666; font-weight: bold; }
        .c-eq { background: var(--jamb-blue); grid-column: span 2; }
    </style>
</head>
<body>

<div class="header">
    <h5 class="mb-0">FSA JAMB PRACTICES - 2026 OFFICIAL MODE</h5>
    <div class="d-flex align-items-center">
        <button class="btn btn-sm btn-warning me-3" onclick="toggleCalc()">ðŸ§® Calculator (C)</button>
        <div id="mainTimer" class="h4 mb-0 me-4 fw-bold text-white">02:00:00</div>
        <button class="btn btn-sm btn-outline-light" onclick="toggleTheme()">ðŸŒ“ Theme</button>
    </div>
</div>

<div id="calc-modal">
    <input type="text" id="cdis" class="calc-display" readonly value="0">
    <div class="calc-grid">
        <button class="c-btn" onclick="cIn('7')">7</button><button class="c-btn" onclick="cIn('8')">8</button><button class="c-btn" onclick="cIn('9')">9</button><button class="c-btn c-op" onclick="cIn('/')">/</button>
        <button class="c-btn" onclick="cIn('4')">4</button><button class="c-btn" onclick="cIn('5')">5</button><button class="c-btn" onclick="cIn('6')">6</button><button class="c-btn c-op" onclick="cIn('*')">Ã—</button>
        <button class="c-btn" onclick="cIn('1')">1</button><button class="c-btn" onclick="cIn('2')">2</button><button class="c-btn" onclick="cIn('3')">3</button><button class="c-btn c-op" onclick="cIn('-')">-</button>
        <button class="c-btn" onclick="cIn('0')">0</button><button class="c-btn" onclick="cIn('.')">.</button><button class="c-btn c-op" onclick="cIn('+')">+</button><button class="c-btn c-op" onclick="cIn('C')">AC</button>
        <button class="c-btn c-eq" onclick="cRes()">=</button>
    </div>
</div>

<div class="container mt-4 pb-5">
    <div id="setupArea">
        <div class="text-center mb-5">
            <h2 class="fw-bold">FSA Candidate Dashboard</h2>
            <p class="text-muted">Total: 180 Questions | English (60), Others (40)</p>
        </div>
        <div class="row g-3 justify-content-center" id="subjectGrid"></div>
        <div class="text-center mt-5">
            <button id="startBtn" class="btn btn-primary btn-lg px-5 disabled" onclick="launchExam()">START FULL EXAM</button>
        </div>
    </div>

    <div id="examMode" style="display:none;">
        <div class="subject-tabs" id="tabBar"></div>
        <div class="exam-container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="d-flex justify-content-between mb-3 align-items-center">
                        <span id="currentSubLabel" class="badge bg-primary px-3 py-2">ENGLISH</span>
                        <span id="qProgress" class="fw-bold">Question 1 of 60</span>
                    </div>
                    <div id="contentDisplay"></div>
                    <div class="mt-4 d-flex justify-content-between">
                        <button class="btn btn-secondary px-4" onclick="navigate(-1)">â¬… Previous</button>
                        <button class="btn btn-primary px-4" onclick="navigate(1)">Next âž¡</button>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="card p-3 bg-transparent border-0">
                        <h6 class="text-center mb-3">Navigation Map</h6>
                        <div id="qMap" class="d-flex flex-wrap gap-2 justify-content-center overflow-auto" style="max-height: 400px; padding: 10px; border: 1px solid #ddd; border-radius: 8px;"></div>
                        <hr>
                        <button class="btn btn-danger w-100 fw-bold py-2" onclick="submitProcess()">SUBMIT EXAM</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="resultArea" style="display:none;" class="text-center mt-5 pb-5">
        <div class="card p-5 shadow-lg m-auto" style="max-width: 700px; background: var(--card);">
            <h1 class="fw-bold">Official FSA Result</h1>
            <div id="finalScore" class="display-1 fw-bold text-success my-4">000</div>
            <p class="text-muted">ESTIMATED JAMB AGGREGATE</p>
            <div id="statBreakdown" class="text-start mb-4"></div>
            <button class="btn btn-primary btn-lg" onclick="location.reload()">New Practice Session</button>
        </div>
    </div>
</div>

<script>
    const subList = [
        { name: "English", icon: "ðŸ“š", count: 60 },
        { name: "Mathematics", icon: "ðŸ“", count: 40 },
        { name: "Physics", icon: "âš›ï¸", count: 40 },
        { name: "Chemistry", icon: "ðŸ§ª", count: 40 },
        { name: "Biology", icon: "ðŸ§¬", count: 40 },
        { name: "Economics", icon: "ðŸ“Š", count: 40 },
        { name: "Government", icon: "ðŸ›ï¸", count: 40 },
        { name: "Literature", icon: "ðŸ“–", count: 40 },
        { name: "Commerce", icon: "ðŸ’¼", count: 40 }
    ];

    let selectedSubs = ["English"];
    let examData = {};
    let activeSub = "English";
    let activeIdx = 0;
    let userAnswers = {};
    let timer;

    // --- SETUP DASHBOARD ---
    function initDashboard() {
        const grid = document.getElementById('subjectGrid');
        subList.forEach(s => {
            const card = document.createElement('div');
            card.className = "col-md-4 col-lg-3";
            card.innerHTML = `<div class="card p-3 text-center subject-card ${s.name==='English'?'selected':''}" id="c-${s.name}" onclick="toggleSub('${s.name}')">
                <div class="h2">${s.icon}</div><h6>${s.name}</h6><small>${s.count} Qs</small>
            </div>`;
            grid.appendChild(card);
        });
    }

    function toggleSub(name) {
        if(name === 'English') return;
        const i = selectedSubs.indexOf(name);
        if(i > -1) selectedSubs.splice(i, 1);
        else if(selectedSubs.length < 4) selectedSubs.push(name);
        
        document.querySelectorAll('.subject-card').forEach(c => c.classList.remove('selected'));
        selectedSubs.forEach(s => document.getElementById(`c-${s}`).classList.add('selected'));
        document.getElementById('startBtn').classList.toggle('disabled', selectedSubs.length < 4);
    }

    // --- CALCULATOR ---
    let cExp = "0";
    function toggleCalc() {
        const m = document.getElementById('calc-modal');
        m.style.display = (m.style.display === 'block') ? 'none' : 'block';
    }
    window.addEventListener('keydown', (e) => { if(e.key.toLowerCase() === 'c') toggleCalc(); });

    function cIn(v) {
        if(v === 'C') cExp = "0";
        else cExp = (cExp === "0") ? v : cExp + v;
        document.getElementById('cdis').value = cExp;
    }
    function cRes() {
        try { cExp = eval(cExp).toString(); document.getElementById('cdis').value = cExp; }
        catch { cExp = "0"; document.getElementById('cdis').value = "Error"; }
    }

    // --- ENGINE ---
    function launchExam() {
        selectedSubs.forEach(s => {
            const count = (s === "English") ? 60 : 40;
            examData[s] = generateQs(s, count);
            userAnswers[s] = {};
        });
        document.getElementById('setupArea').style.display = 'none';
        document.getElementById('examMode').style.display = 'block';
        renderTabs(); renderScreen(); startTimer(7200);
    }

    function generateQs(subject, count) {
        const t = [];
        for(let i=0; i<count; i++) {
            if(subject === "English" && i < 10) {
                t.push({ type: "passage", passage: "Comprehension passage for 2026: The shift to sustainable energy in West Africa...", q: `(${i+1}) The author's tone is?`, opts: ["Critical", "Optimistic", "Indifferent", "Satirical"], a: 1 });
            } else {
                t.push({ type: "normal", q: `${subject} Hard Q ${i+1}: Evaluate the most likely outcome of X given Y?`, opts: ["Option A", "Option B", "Option C", "Option D"], a: 1 });
            }
        }
        return t;
    }

    function renderTabs() {
        const bar = document.getElementById('tabBar');
        bar.innerHTML = '';
        selectedSubs.forEach(s => {
            const t = document.createElement('div');
            t.className = `sub-tab ${activeSub === s ? 'active' : ''}`;
            t.innerText = s.toUpperCase();
            t.onclick = () => { activeSub = s; activeIdx = 0; renderTabs(); renderScreen(); };
            bar.appendChild(t);
        });
    }

    function renderScreen() {
        const q = examData[activeSub][activeIdx];
        document.getElementById('currentSubLabel').innerText = activeSub;
        document.getElementById('qProgress').innerText = `Question ${activeIdx + 1} of ${examData[activeSub].length}`;
        
        const area = document.getElementById('contentDisplay');
        if(q.type === 'passage') {
            area.innerHTML = `<div class="row"><div class="col-md-6"><div class="passage-box mb-3">${q.passage}</div></div>
                <div class="col-md-6"><h5>${q.q}</h5><div id="optList"></div></div></div>`;
        } else {
            area.innerHTML = `<h4 class="mb-4">${q.q}</h4><div id="optList"></div>`;
        }

        const list = document.getElementById('optList');
        q.opts.forEach((o, i) => {
            const b = document.createElement('button');
            b.className = `option-btn ${userAnswers[activeSub][activeIdx] === i ? 'selected' : ''}`;
            b.innerHTML = `<b>${String.fromCharCode(65+i)}.</b> ${o}`;
            b.onclick = () => { userAnswers[activeSub][activeIdx] = i; renderScreen(); renderMap(); };
            list.appendChild(b);
        });
        renderMap();
    }

    function renderMap() {
        const map = document.getElementById('qMap');
        map.innerHTML = '';
        examData[activeSub].forEach((_, i) => {
            const c = document.createElement('div');
            c.className = `q-circle ${userAnswers[activeSub][i] !== undefined ? 'answered' : ''} ${activeIdx === i ? 'current' : ''}`;
            c.innerText = i + 1;
            c.onclick = () => { activeIdx = i; renderScreen(); };
            map.appendChild(c);
        });
    }

    function navigate(dir) {
        if(activeIdx + dir >= 0 && activeIdx + dir < examData[activeSub].length) { activeIdx += dir; renderScreen(); }
    }

    function startTimer(sec) {
        timer = setInterval(() => {
            sec--;
            let h = Math.floor(sec/3600), m = Math.floor((sec%3600)/60), s = sec%60;
            document.getElementById('mainTimer').innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
            if(sec <= 0) submitProcess();
        }, 1000);
    }

    function submitProcess() {
        if(!confirm("Submit final answers to FSA portal?")) return;
        clearInterval(timer);
        document.getElementById('examMode').style.display = 'none';
        document.getElementById('resultArea').style.display = 'block';

        let correct = 0, total = 0, breakdown = '';
        selectedSubs.forEach(s => {
            let sC = 0, sT = examData[s].length;
            examData[s].forEach((q, i) => { if(userAnswers[s][i] === q.a) sC++; });
            correct += sC; total += sT;
            const p = Math.round((sC/sT)*100);
            breakdown += `<div class="mb-3"><h6>${s}: ${p}%</h6><div class="progress"><div class="progress-bar bg-primary" style="width:${p}%"></div></div></div>`;
        });
        document.getElementById('finalScore').innerText = Math.round((correct/total)*400);
        document.getElementById('statBreakdown').innerHTML = breakdown;
    }

    function toggleTheme() { document.documentElement.setAttribute('data-theme', document.documentElement.getAttribute('data-theme')==='dark'?'light':'dark'); }
    initDashboard();
</script>
</body>
</html>
