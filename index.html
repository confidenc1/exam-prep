<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JAMB-PRO 2026 | Ultimate CBT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .hidden { display: none; }
        .glass { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(12px); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .tab-active { color: #16a34a !important; font-weight: 800; }
        @keyframes pulse-red { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .low-time { color: #dc2626; animation: pulse-red 1s infinite; }
    </style>
</head>
<body class="bg-gray-50 text-slate-900 pb-20">

    <nav class="sticky top-0 z-50 glass border-b border-gray-100 p-4 flex justify-between items-center">
        <h1 class="font-black italic text-xl tracking-tighter">JAMB-PRO <span class="text-green-600">2026</span></h1>
        <div id="examTimerNav" class="hidden flex items-center gap-3">
            <button onclick="toggleCalc()" class="bg-slate-100 p-2 rounded-xl text-slate-600"><i class="fas fa-calculator"></i></button>
            <div class="bg-red-600 text-white px-4 py-1 rounded-full text-xs font-black shadow-lg">
                <span id="timerText">02:00:00</span>
            </div>
        </div>
    </nav>

    <div id="calculator" class="hidden fixed right-4 top-20 w-64 glass shadow-2xl rounded-3xl p-4 z-[100] border border-gray-200">
        <input type="text" id="calcDisplay" readonly class="w-full text-right p-3 bg-slate-100 rounded-xl mb-3 font-mono text-xl">
        <div class="grid grid-cols-4 gap-2">
            <button onclick="calcIn('7')" class="p-3 bg-white rounded-lg shadow-sm">7</button>
            <button onclick="calcIn('8')" class="p-3 bg-white rounded-lg shadow-sm">8</button>
            <button onclick="calcIn('9')" class="p-3 bg-white rounded-lg shadow-sm">9</button>
            <button onclick="calcIn('/')" class="p-3 bg-orange-100 text-orange-600 rounded-lg">/</button>
            <button onclick="calcIn('4')" class="p-3 bg-white rounded-lg shadow-sm">4</button>
            <button onclick="calcIn('5')" class="p-3 bg-white rounded-lg shadow-sm">5</button>
            <button onclick="calcIn('6')" class="p-3 bg-white rounded-lg shadow-sm">6</button>
            <button onclick="calcIn('*')" class="p-3 bg-orange-100 text-orange-600 rounded-lg">Ã—</button>
            <button onclick="calcRes()" class="col-span-2 p-3 bg-green-600 text-white rounded-lg">=</button>
            <button onclick="calcClear()" class="col-span-2 p-3 bg-red-100 text-red-600 rounded-lg">C</button>
        </div>
    </div>

    <main class="container mx-auto px-4 mt-6">

        <section id="lockSection" class="max-w-md mx-auto text-center py-12">
            <div class="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 text-3xl">
                <i class="fas fa-lock"></i>
            </div>
            <h2 class="text-2xl font-black mb-2">Unlock 2026 Questions</h2>
            <p class="text-gray-500 text-sm mb-8">Enter your license key to access the full CBT environment and digital library.</p>
            <input type="text" id="keyInput" placeholder="ENTER KEY (PREP26)" class="w-full p-5 bg-white border border-gray-200 rounded-3xl text-center font-black tracking-widest mb-4 outline-none focus:ring-2 focus:ring-green-500 shadow-sm">
            <button onclick="unlockApp()" class="w-full bg-slate-900 text-white py-5 rounded-3xl font-black shadow-xl hover:bg-black transition-all">ACTIVATE SYSTEM</button>
            <p class="mt-6 text-xs font-bold text-gray-400">WHATSAPP ADMIN FOR KEY: <a href="https://wa.me/2349131546480" class="text-green-600 underline">09131546480</a></p>
        </section>

        <section id="homeTab" class="hidden max-w-2xl mx-auto animate-in">
            <div class="mb-6">
                <h2 class="text-2xl font-black text-slate-800">Hi, Scholar ðŸ‘‹</h2>
                <p class="text-sm text-gray-500">The 2026 UTME is approaching fast.</p>
            </div>

            <div class="bg-green-600 p-6 rounded-[2.5rem] text-white shadow-xl mb-8">
                <p class="text-[10px] font-bold uppercase tracking-widest opacity-80 mb-4 flex items-center gap-2">
                    <i class="fas fa-hourglass-half"></i> Exam Countdown
                </p>
                <div class="grid grid-cols-4 gap-3 text-center">
                    <div class="bg-white/20 p-3 rounded-2xl"><p id="d-day" class="text-xl font-black">--</p><p class="text-[8px] uppercase opacity-70">Days</p></div>
                    <div class="bg-white/20 p-3 rounded-2xl"><p id="d-hr" class="text-xl font-black">--</p><p class="text-[8px] uppercase opacity-70">Hrs</p></div>
                    <div class="bg-white/20 p-3 rounded-2xl"><p id="d-min" class="text-xl font-black">--</p><p class="text-[8px] uppercase opacity-70">Mins</p></div>
                    <div class="bg-white/20 p-3 rounded-2xl"><p id="d-sec" class="text-xl font-black">--</p><p class="text-[8px] uppercase opacity-70">Secs</p></div>
                </div>
            </div>

            <h3 class="font-black text-slate-800 mb-4">Today's Plan</h3>
            <div class="space-y-3">
                <div onclick="openDeptSelection()" class="p-5 bg-white border border-gray-100 rounded-3xl shadow-sm flex items-center justify-between cursor-pointer hover:border-green-500 transition-all group">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center"><i class="fas fa-pencil-alt"></i></div>
                        <div><p class="font-black text-sm">Full Mock Simulation</p><p class="text-[10px] text-gray-400">180 Questions â€¢ 2 Hours</p></div>
                    </div>
                    <i class="fas fa-chevron-right text-gray-200 group-hover:text-green-500"></i>
                </div>
            </div>
        </section>

        <section id="deptTab" class="hidden max-w-2xl mx-auto text-center py-8">
            <h2 class="text-2xl font-black mb-6">Select Department</h2>
            <div class="grid gap-4">
                <button onclick="startFullExam('Science')" class="p-6 bg-white border border-gray-100 rounded-3xl shadow-sm text-left flex items-center gap-4 hover:border-blue-500">
                    <div class="w-12 h-12 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center text-xl"><i class="fas fa-atom"></i></div>
                    <div><p class="font-black">Science Bundle</p><p class="text-xs text-gray-400">English, Physics, Chemistry, Biology</p></div>
                </button>
                <button onclick="startFullExam('Art')" class="p-6 bg-white border border-gray-100 rounded-3xl shadow-sm text-left flex items-center gap-4 hover:border-purple-500">
                    <div class="w-12 h-12 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center text-xl"><i class="fas fa-scroll"></i></div>
                    <div><p class="font-black">Arts Bundle</p><p class="text-xs text-gray-400">English, Government, Literature, CRS</p></div>
                </button>
            </div>
        </section>

        <section id="libraryTab" class="hidden max-w-2xl mx-auto">
            <h2 class="text-2xl font-black mb-6">Digital Library</h2>
            <div class="flex gap-4 overflow-x-auto pb-6 no-scrollbar">
                <div class="min-w-[200px] bg-indigo-600 p-5 rounded-3xl text-white">
                    <p class="text-[8px] font-bold opacity-70 mb-1 uppercase">Lekki Headmaster</p>
                    <h4 class="font-black mb-2">Ponderously</h4>
                    <p class="text-[10px] opacity-90 leading-relaxed">Meaning: Moving slowly and heavily. Describes Bepo's walk when troubled.</p>
                </div>
                <div class="min-w-[200px] bg-orange-500 p-5 rounded-3xl text-white">
                    <p class="text-[8px] font-bold opacity-70 mb-1 uppercase">Lion & Jewel</p>
                    <h4 class="font-black mb-2">Archaic</h4>
                    <p class="text-[10px] opacity-90 leading-relaxed">Meaning: Very old or old-fashioned. Lakunle's view of bride price.</p>
                </div>
            </div>
            <div class="grid grid-cols-2 gap-4">
                <div onclick="readBook('The Lekki Headmaster')" class="bg-white p-4 rounded-3xl shadow-sm border border-gray-50 cursor-pointer">
                    <div class="aspect-[3/4] bg-green-700 rounded-2xl mb-3 flex items-center justify-center text-white font-black text-center text-sm p-4">The Lekki Headmaster</div>
                    <p class="font-bold text-xs">Recommended 2026</p>
                </div>
            </div>
        </section>

        <section id="examTab" class="hidden max-w-5xl mx-auto">
            <div class="grid lg:grid-cols-4 gap-6">
                <div class="lg:col-span-3">
                    <div class="bg-white p-8 rounded-3xl shadow-lg min-h-[400px]">
                        <div class="flex justify-between items-center mb-6">
                            <span id="subLabel" class="text-blue-600 font-black text-xs uppercase tracking-widest">ENGLISH</span>
                            <span id="qLabel" class="text-gray-400 font-bold text-xs">Question 1/180</span>
                        </div>
                        <h2 id="qContent" class="text-xl font-bold text-slate-800 mb-8 leading-relaxed">...</h2>
                        <div id="optGrid" class="grid gap-3"></div>
                        <div class="flex justify-between mt-12 pt-6 border-t border-gray-50">
                            <button onclick="prevQ()" class="px-6 py-3 bg-gray-100 rounded-2xl font-bold">PREV</button>
                            <button onclick="confirmSubmit()" class="px-6 py-3 bg-red-100 text-red-600 rounded-2xl font-bold">SUBMIT</button>
                            <button onclick="nextQ()" class="px-6 py-3 bg-blue-600 text-white rounded-2xl font-bold">NEXT</button>
                        </div>
                    </div>
                </div>
                <div class="lg:col-span-1">
                    <div class="bg-white p-6 rounded-3xl shadow-sm sticky top-24">
                        <div id="subjectTabs" class="flex flex-col gap-2 mb-6"></div>
                        <div id="numGrid" class="grid grid-cols-5 gap-2 h-[200px] overflow-y-auto pr-2 no-scrollbar"></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="resultTab" class="hidden max-w-md mx-auto text-center py-12">
            <div class="w-32 h-32 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 text-4xl font-black shadow-inner">
                <span id="finalScore">--</span>
            </div>
            <h2 class="text-2xl font-black mb-2">Exam Result</h2>
            <div id="resultBreakdown" class="text-left space-y-3 mt-8"></div>
            <button onclick="location.reload()" class="w-full mt-10 bg-slate-900 text-white py-5 rounded-3xl font-black">LOG OUT</button>
        </section>

    </main>

    <div id="bottomNav" class="hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 px-8 py-4 flex justify-between items-center z-50">
        <button onclick="tab('home')" class="text-gray-400 text-center"><i class="fas fa-home block text-lg mb-1"></i><span class="text-[8px] font-bold">HOME</span></button>
        <button onclick="tab('library')" class="text-gray-400 text-center"><i class="fas fa-book block text-lg mb-1"></i><span class="text-[8px] font-bold">LIBRARY</span></button>
        <button onclick="openDeptSelection()" class="bg-green-600 w-12 h-12 rounded-full text-white shadow-lg -mt-10 flex items-center justify-center border-4 border-gray-50"><i class="fas fa-pencil-alt"></i></button>
        <button onclick="tab('reports')" class="text-gray-400 text-center"><i class="fas fa-chart-bar block text-lg mb-1"></i><span class="text-[8px] font-bold">REPORT</span></button>
        <button onclick="alert('Community coming soon!')" class="text-gray-400 text-center"><i class="fas fa-users block text-lg mb-1"></i><span class="text-[8px] font-bold">FORUM</span></button>
    </div>

    <div id="reader" class="hidden fixed inset-0 bg-white z-[200] overflow-y-auto p-6">
        <div class="flex justify-between items-center mb-8 sticky top-0 bg-white py-4 border-b">
            <button onclick="closeReader()"><i class="fas fa-arrow-left text-xl"></i></button>
            <h2 id="bookTitle" class="font-black">Novel Reader</h2>
            <i class="fas fa-bookmark text-gray-300"></i>
        </div>
        <div id="bookContent" class="prose leading-relaxed text-slate-700"></div>
    </div>

    <script>
        // --- DATA & STATE ---
        const SYLLABUS = {
            'Science': ['English', 'Physics', 'Chemistry', 'Biology'],
            'Art': ['English', 'Government', 'Literature', 'CRS']
        };

        const DB = {
            'English': [
                { q: "In 'The Lekki Headmaster', what describes Bepo's internal conflict?", o: ["Financial greed", "Japa syndrome pressure", "Political ambition", "Family hatred"], a: 1, type: 'novel' },
                { q: "Choose the option opposite in meaning: The man was METICULOUS.", o: ["Careful", "Slothful", "Thorough", "Sloppy"], a: 3, type: 'interpretation' }
            ],
            'Physics': [ { q: "Calculate force when mass is 10kg and acceleration is 5m/sÂ².", o: ["2N", "15N", "50N", "500N"], a: 2 } ]
        };

        let activeDept = [];
        let userChoices = {}; // { Subject: [null, null...] }
        let timePerSub = {}; // { Subject: 0 }
        let curSubIdx = 0;
        let curQIdx = 0;
        let timerSeconds = 7200;
        let timerActive = false;

        // --- CORE LOGIC ---
        function unlockApp() {
            if(document.getElementById('keyInput').value.toUpperCase() === 'PREP26') {
                localStorage.setItem('activated', 'true');
                document.getElementById('lockSection').classList.add('hidden');
                document.getElementById('homeTab').classList.remove('hidden');
                document.getElementById('bottomNav').classList.remove('hidden');
                startJambCountdown();
            } else { alert("Invalid Key!"); }
        }

        function tab(t) {
            ['homeTab', 'libraryTab', 'deptTab', 'examTab', 'resultTab'].forEach(id => document.getElementById(id).classList.add('hidden'));
            document.getElementById(t + 'Tab').classList.remove('hidden');
        }

        function openDeptSelection() { tab('dept'); }

        function startFullExam(dept) {
            activeDept = SYLLABUS[dept];
            activeDept.forEach(sub => {
                userChoices[sub] = new Array(DB[sub]?.length || 10).fill(null);
                timePerSub[sub] = 0;
            });
            tab('exam');
            document.getElementById('examTimerNav').classList.remove('hidden');
            timerActive = true;
            renderSubjectTabs();
            loadQ();
            startExamTimer();
        }

        function renderSubjectTabs() {
            const container = document.getElementById('subjectTabs');
            container.innerHTML = '';
            activeDept.forEach((sub, i) => {
                const active = i === curSubIdx ? 'bg-blue-600 text-white' : 'bg-gray-100';
                container.innerHTML += `<button onclick="switchSub(${i})" class="p-3 rounded-xl text-left font-bold text-xs ${active}">${sub}</button>`;
            });
        }

        function loadQ() {
            const sub = activeDept[curSubIdx];
            const qData = DB[sub] ? DB[sub][curQIdx] : { q: `Sample ${sub} Question ${curQIdx+1}`, o: ["A","B","C","D"], a: 0 };
            
            document.getElementById('subLabel').innerText = sub;
            document.getElementById('qLabel').innerText = `Question ${curQIdx + 1}`;
            document.getElementById('qContent').innerText = qData.q;
            
            const grid = document.getElementById('optGrid');
            grid.innerHTML = '';
            qData.o.forEach((opt, i) => {
                const selected = userChoices[sub][curQIdx] === i;
                const css = selected ? 'border-blue-600 bg-blue-50 ring-2 ring-blue-100' : 'border-gray-100';
                grid.innerHTML += `<button onclick="selectOpt(${i})" class="p-4 text-left border-2 rounded-2xl font-bold transition-all ${css}">${String.fromCharCode(65+i)}. ${opt}</button>`;
            });
            renderNavGrid();
        }

        function selectOpt(i) {
            userChoices[activeDept[curSubIdx]][curQIdx] = i;
            loadQ();
        }

        function renderNavGrid() {
            const grid = document.getElementById('numGrid');
            grid.innerHTML = '';
            const answers = userChoices[activeDept[curSubIdx]];
            answers.forEach((ans, i) => {
                const bg = ans !== null ? 'bg-blue-600 text-white' : 'bg-gray-100';
                const border = i === curQIdx ? 'ring-2 ring-slate-900' : '';
                grid.innerHTML += `<button onclick="jumpQ(${i})" class="h-10 rounded-lg font-bold text-[10px] ${bg} ${border}">${i+1}</button>`;
            });
        }

        function jumpQ(i) { curQIdx = i; loadQ(); }
        function nextQ() { if(curQIdx < (userChoices[activeDept[curSubIdx]].length - 1)) { curQIdx++; loadQ(); } }
        function prevQ() { if(curQIdx > 0) { curQIdx--; loadQ(); } }
        function switchSub(i) { curSubIdx = i; curQIdx = 0; renderSubjectTabs(); loadQ(); }

        // --- TIMERS ---
        function startJambCountdown() {
            const target = new Date("April 18, 2026 08:00:00").getTime();
            setInterval(() => {
                const now = new Date().getTime();
                const gap = target - now;
                document.getElementById('d-day').innerText = Math.floor(gap / 86400000);
                document.getElementById('d-hr').innerText = Math.floor((gap % 86400000) / 3600000);
                document.getElementById('d-min').innerText = Math.floor((gap % 3600000) / 60000);
                document.getElementById('d-sec').innerText = Math.floor((gap % 60000) / 1000);
            }, 1000);
        }

        function startExamTimer() {
            setInterval(() => {
                if(!timerActive || timerSeconds <= 0) return;
                timerSeconds--;
                timePerSub[activeDept[curSubIdx]]++;
                const h = Math.floor(timerSeconds / 3600);
                const m = Math.floor((timerSeconds % 3600) / 60);
                const s = timerSeconds % 60;
                document.getElementById('timerText').innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
            }, 1000);
        }

        // --- SCORING & RESULTS ---
        function confirmSubmit() { if(confirm("Submit all 4 subjects?")) finishExam(); }

        function finishExam() {
            timerActive = false;
            let grandTotal = 0;
            let reportHTML = "";

            activeDept.forEach(sub => {
                let subRaw = 0;
                const userAns = userChoices[sub];
                const db = DB[sub] || [];

                userAns.forEach((ans, i) => {
                    if(db[i] && ans === db[i].a) {
                        if(sub === 'English') {
                            if(db[i].type === 'novel') subRaw += 1;
                            else i
