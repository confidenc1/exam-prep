<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FSA JAMB CBT PRO</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
  background:#0f111a;
  color:#fff;
  font-family:system-ui,Segoe UI,sans-serif;
}
.screen{display:none;padding:20px}
.screen.active{display:block}

.card-box{
  background:#1e1f2b;
  border-radius:20px;
  padding:25px;
  box-shadow:0 10px 25px rgba(0,0,0,.4);
}

.subject{
  background:#161722;
  padding:20px;
  border-radius:15px;
  text-align:center;
  cursor:pointer;
  transition:.3s;
}
.subject:hover{background:#0d6efd}

.flashcard{
  background:#161722;
  border-radius:20px;
  padding:25px;
  min-height:220px;
}

.option{
  background:#1e1f2b;
  border-radius:12px;
  padding:14px;
  margin:10px 0;
  cursor:pointer;
}
.option:hover{background:#0d6efd}

.progress{
  height:8px;
}
</style>
</head>

<body>

<!-- LOCK SCREEN -->
<div id="lock" class="screen active">
  <div class="card-box">
    <h4>FSA JAMB CBT PRO</h4>
    <p>Enter activation key to unlock</p>

    <input id="key" class="form-control mb-2" placeholder="Activation key">

    <button class="btn btn-success w-100 mb-2" onclick="activate()">Activate</button>

    <a class="btn btn-outline-success w-100"
       href="https://wa.me/2349131546480" target="_blank">
       WhatsApp Admin (09131546480)
    </a>
  </div>
</div>

<!-- SUBJECTS -->
<div id="subjects" class="screen">
  <h5>Select Subject</h5>
  <div class="row g-3" id="subList"></div>
</div>

<!-- PRACTICE -->
<div id="practice" class="screen">
  <div class="progress mb-3">
    <div id="bar" class="progress-bar bg-success"></div>
  </div>

  <div class="flashcard">
    <div id="qText" class="fw-bold mb-3"></div>
    <div id="opts"></div>
  </div>

  <div class="d-flex justify-content-between mt-3">
    <button class="btn btn-secondary" onclick="prev()">Prev</button>
    <button class="btn btn-secondary" onclick="next()">Next</button>
  </div>
</div>

<script>
/* CONFIG */
const MASTER_KEY="FSA-JAMB-2026";
const DAYS=30;
const SUBJECTS=["english","mathematics","biology","chemistry","physics","government","economics"];

/* STATE */
let q=[],i=0;

/* FUNCTIONS */
function show(id){
 document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
 document.getElementById(id).classList.add('active');
}

function activate(){
 if(document.getElementById('key').value===MASTER_KEY){
   localStorage.setItem('fsa',Date.now()+DAYS*86400000);
   loadSubjects();
 }else{
   alert("Wrong key");
   window.open("https://wa.me/2349131546480");
 }
}

function valid(){
 const t=localStorage.getItem('fsa');
 return t && Date.now()<t;
}

function loadSubjects(){
 if(!valid())return;
 show('subjects');
 document.getElementById('subList').innerHTML=
 SUBJECTS.map(s=>`
  <div class="col-6">
   <div class="subject" onclick="start('${s}')">${s.toUpperCase()}</div>
  </div>`).join('');
}

async function start(s){
 const r=await fetch(s+'.json');
 q=await r.json();
 i=0;
 show('practice');
 load();
}

function load(){
 const item=q[i];
 document.getElementById('qText').innerHTML=item.q;
 document.getElementById('opts').innerHTML=
 item.options.map(o=>`<div class="option">${o}</div>`).join('');
 document.getElementById('bar').style.width=((i+1)/q.length*100)+'%';
}

function next(){ if(i<q.length-1){i++;load();} }
function prev(){ if(i>0){i--;load();} }

window.onload=()=>{ if(valid())loadSubjects(); }
</script>

</body>
</html>
