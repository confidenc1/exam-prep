<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JAMB-ULTIMATE 2026 | Enterprise Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap');
        :root { --jamb-blue: #0047AB; --jamb-success: #22C55E; --jamb-danger: #EF4444; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #F8FAFC; user-select: none; }
        .view { display: none; }
        .view.active { display: block; }
        .key-btn { width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; border-radius: 12px; border: 2px solid #E2E8F0; font-weight: 800; background: white; }
        .key-btn.active { background: var(--jamb-blue); color: white; border-color: var(--jamb-blue); }
        .calculator-grid button { padding: 15px; border-radius: 10px; font-weight: bold; background: #f1f5f9; }
        .trial-banner { background: linear-gradient(90deg, #FF8C00, #FF4500); }
    </style>
</head>
<body class="pb-24">

    <div id="lockScreen" class="hidden fixed inset-0 z-[10000] bg-white/95 backdrop-blur-md flex items-center justify-center p-6">
        <div class="w-full max-w-md text-center">
            <div class="w-20 h-20 bg-blue-100 text-blue-700 rounded-[2rem] flex items-center justify-center mx-auto mb-6 shadow-lg"><i class="fas fa-shield-alt text-3xl"></i></div>
            <h2 class="text-2xl font-black text-slate-900 mb-2">Activation Required</h2>
            <p class="text-slate-500 text-sm mb-8 px-4">You've reached the 5-question trial limit. Unlock <b>60,000 Questions</b>, the <b>AI Tutor</b>, and <b>State Recovery</b>.</p>
            <a href="https://wa.me/2349131546480?text=I%20want%20the%20JAMB-ULTIMATE%202026%20Key" class="block w-full bg-green-600 text-white py-5 rounded-2xl font-black mb-4 shadow-xl"><i class="fab fa-whatsapp mr-2"></i> WHATSAPP: 09131546480</a>
            <input type="text" id="licenseInput" placeholder="Enter 12-Digit PIN" class="w-full p-4 border-2 border-slate-100 rounded-2xl mb-4 text-center font-bold tracking-[5px]">
            <button onclick="verifyKey()" class="w-full bg-blue-700 text-white py-4 rounded-2xl font-bold">ACTIVATE SYSTEM</button>
        </div>
    </div>

    <header class="bg-white border-b p-4 sticky top-0 z-50 flex justify-between items-center">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-blue-700 rounded-xl flex items-center justify-center text-white"><i class="fas fa-bolt"></i></div>
            <h1 class="font-black text-blue-900 text-sm">JAMB-ULTIMATE <span class="text-orange-500">2026</span></h1>
        </div>
        <div class="flex gap-2">
            <button onclick="openTool('calc')" class="w-10 h-10 bg-slate-50 text-slate-600 rounded-xl"><i class="fas fa-calculator"></i></button>
            <button onclick="openTool('ai')" class="w-10 h-10 bg-purple-50 text-purple-600 rounded-xl"><i class="fas fa-robot"></i></button>
        </div>
    </header>

    <div id="trialBanner" class="trial-banner p-2 text-center text-[10px] text-white font-bold uppercase tracking-widest">
        Free Trial Mode: <span id="trialCount">5</span> Questions Left
    </div>

    <main id="view-home" class="view active p-6 space-y-4">
        <div class="bg-blue-700 p-8 rounded-[2.5rem] text-white shadow-xl relative overflow-hidden">
            <p class="text-[10px] font-bold opacity-60 uppercase mb-1">2026 Novel Focus</p>
            <h2 class="text-xl font-black mb-4">The Lekki Headmaster</h2>
            <button onclick="switchTab('novel')" class="bg-white text-blue-700 px-6 py-2 rounded-xl text-[10px] font-black uppercase">Study Guide</button>
            <i class="fas fa-book absolute -right-4 -bottom-4 text-8xl opacity-10"></i>
        </div>

        <div class="grid grid-cols-2 gap-4">
            <div onclick="switchTab('exam')" class="bg-white p-6 rounded-3xl border border-slate-100 shadow-sm cursor-pointer">
                <i class="fas fa-desktop text-blue-600 mb-2"></i>
                <h4 class="font-bold text-xs">CBT Exam</h4>
                <p class="text-[9px] text-slate-400">Full 180 Questions</p>
            </div>
            <div onclick="switchTab('analytics')" class="bg-white p-6 rounded-3xl border border-slate-100 shadow-sm cursor-pointer">
                <i class="fas fa-chart-pie text-red-500 mb-2"></i>
                <h4 class="font-bold text-xs">Heatmap</h4>
                <p class="text-[9px] text-slate-400">Strength/Weakness</p>
            </div>
        </div>

        <div class="bg-white p-6 rounded-3xl border border-slate-100">
            <h4 class="text-[10px] font-black text-slate-400 uppercase mb-4">Quick Utilities</h4>
            <div class="grid grid-cols-4 gap-2">
                <button onclick="switchTab('nin')" class="flex flex-col items-center gap-1"><i class="fas fa-id-card text-blue-500"></i><span class="text-[8px] font-bold">NIN</span></button>
                <button onclick="switchTab('agg')" class="flex flex-col items-center gap-1"><i class="fas fa-calculator text-green-500"></i><span class="text-[8px] font-bold">AGG</span></button>
                <button onclick="switchTab('brochure')" class="flex flex-col items-center gap-1"><i class="fas fa-search text-orange-500"></i><span class="text-[8px] font-bold">BROCHURE</span></button>
                <button onclick="switchTab('olevel')" class="flex flex-col items-center gap-1"><i class="fas fa-check-double text-purple-500"></i><span class="text-[8px] font-bold">O-LEVEL</span></button>
            </div>
        </div>
    </main>

    <main id="view-exam" class="view p-6">
        <div class="flex justify-between items-center mb-4">
            <h3 class="font-black text-xs text-slate-400">8-KEY SYSTEM ACTIVE</h3>
            <div id="examTimer" class="bg-red-50 text-red-600 px-4 py-1 rounded-full font-black text-xs">02:00:00</div>
        </div>

        <div class="bg-white p-8 rounded-[2.5rem] shadow-xl border min-h-[400px] mb-6 relative">
            <div class="flex justify-between mb-8">
                <span id="qSubject" class="text-[10px] font-black text-blue-700 bg-blue-50 px-3 py-1 rounded-lg">PHYSICS</span>
                <span id="qProgress" class="text-[10px] font-bold text-slate-400">1 / 180</span>
            </div>
            <p id="qText" class="text-lg font-bold text-slate-800 leading-relaxed mb-10">...</p>
            <div id="optionList" class="space-y-3"></div>
        </div>

        <div class="grid grid-cols-4 gap-2">
            <button onclick="keyAction('A')" class="key-btn">A</button>
            <button onclick="keyAction('B')" class="key-btn">B</button>
            <button onclick="keyAction('C')" class="key-btn">C</button>
            <button onclick="keyAction('D')" class="key-btn">D</button>
            <button onclick="keyAction('P')" class="key-btn text-blue-600">P</button>
            <button onclick="keyAction('N')" class="key-btn text-blue-600">N</button>
            <button onclick="keyAction('S')" class="key-btn text-red-600">S</button>
            <button onclick="keyAction('R')" class="key-btn text-orange-600">R</button>
        </div>
    </main>

    <div id="aiPanel" class="hidden fixed inset-0 z-[10001] bg-white p-6">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-xl font-black">AI Explainer</h2>
            <button onclick="closeTool('ai')" class="text-red-500 font-bold">CLOSE</button>
        </div>
        <div class="bg-purple-50 p-6 rounded-3xl mb-6 border border-purple-100">
            <p id="aiExplanation" class="text-sm font-semibold text-purple-900 leading-relaxed italic">"Ohm's Law states V = IR. Since V=10 and I=2, then R = 10/2 = 5 Ohms."</p>
        </div>
        <button class="w-full py-4 bg-purple-600 text-white rounded-2xl font-bold">Ask Follow-up Question</button>
    </div>

    <div id="calcPanel" class="hidden fixed inset-0 z-[10001] bg-black/40 flex items-center justify-center p-6 backdrop-blur-sm">
        <div class="bg-white p-6 rounded-[2.5rem] w-full max-w-xs shadow-2xl">
            <div id="calcDisp" class="bg-slate-50 p-6 rounded-2xl text-right text-3xl font-black mb-4">0</div>
            <div class="grid grid-cols-4 gap-2 calculator-grid">
                <button onclick="cIn('7')">7</button><button onclick="cIn('8')">8</button><button onclick="cIn('9')">9</button><button onclick="cIn('/')">/</button>
                <button onclick="cIn('4')">4</button><button onclick="cIn('5')">5</button><button onclick="cIn('6')">6</button><button onclick="cIn('*')">x</button>
                <button onclick="cIn('1')">1</button><button onclick="cIn('2')">2</button><button onclick="cIn('3')">3</button><button onclick="cIn('-')">-</button>
                <button onclick="cIn('0')">0</button><button onclick="cIn('.')">.</button><button onclick="cEq()" class="bg-blue-700 text-white">=</button><button onclick="cRes()" class="text-red-500">C</button>
            </div>
            <button onclick="closeTool('calc')" class="w-full mt-4 py-2 text-[10px] font-bold text-slate-400">DISMISS</button>
        </div>
    </div>

    <script>
        const MASTER_KEY = "JAMB-BOSS-2026";
        let currentQ = 0;
        let isActivated = localStorage.getItem('activated') === 'true';
        let trialLimit = 5;
        let cValue = "";
        let answers = {};

        // DATABASE: Features Questions + State Recovery logic
        const QUESTIONS = [
            { q: "A wire of resistance 5 Ohms has a current of 2A flowing through it. Calculate the Voltage (V).", o: ["2.5V", "7V", "10V", "3V"], c: 2, e: "Using Ohm's Law: V = I × R. Therefore, V = 2 × 5 = 10 Volts." },
            { q: "In 'The Lekki Headmaster', who is the antagonist representing corruption?", o: ["Mr. Ade", "The Chairman", "The Janitor", "Chief Okoro"], c: 1, e: "The Chairman represents the systemic corruption the Headmaster fights." },
            { q: "Solve for x: 4x - 8 = 12.", o: ["x = 5", "x = 4", "x = 10", "x = 2"], c: 0, e: "4x = 12 + 8 -> 4x = 20 -> x = 5." },
            { q: "Which part of speech describes a verb?", o: ["Noun", "Adjective", "Adverb", "Pronoun"], c: 2, e: "Adverbs modify verbs, adjectives, or other adverbs." },
            { q: "Identify the S.I unit of Power.", o: ["Joule", "Watt", "Newton", "Pascal"], c: 1, e: "The Watt (W) is the S.I unit of power, defined as 1 Joule per second." }
        ];

        // 1. TABS & TOOLS
        function switchTab(id) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById('view-' + id).classList.add('active');
            if(id === 'exam') loadQ();
        }

        function openTool(id) { document.getElementById(id + 'Panel').classList.remove('hidden'); }
        function closeTool(id) { document.getElementById(id + 'Panel').classList.add('hidden'); }

        // 2. JAMB 8-KEY SYSTEM
        function keyAction(key) {
            if(!isActivated && currentQ >= trialLimit) {
                document.getElementById('lockScreen').classList.remove('hidden');
                return;
            }

            if(['A','B','C','D'].includes(key)) {
                let idx = key.charCodeAt(0) - 65;
                selectOption(idx);
            } else if(key === 'N') {
                if(currentQ < QUESTIONS.length - 1) { currentQ++; loadQ(); }
            } else if(key === 'P') {
                if(currentQ > 0) { currentQ--; loadQ(); }
            } else if(key === 'S') {
                alert("Exam Submitted! Total Score: Calculating...");
                switchTab('home');
            }
            saveState(); // EXAM STATE RECOVERY
        }

        // 3. EXAM LOGIC
        function loadQ() {
            if(!isActivated && currentQ >= trialLimit) {
                document.getElementById('lockScreen').classList.remove('hidden');
                return;
            }

            const q = QUESTIONS[currentQ];
            document.getElementById('qText').innerText = q.q;
            document.getElementById('qProgress').innerText = `${currentQ + 1} / 180`;
            document.getElementById('aiExplanation').innerText = q.e; // AI TUTOR INTEGRATION

            let html = "";
            q.o.forEach((opt, i) => {
                let activeClass = answers[currentQ] === i ? 'border-blue-600 bg-blue-50' : 'border-slate-100';
                html += `<div onclick="selectOption(${i})" class="p-5 border-2 rounded-2xl flex items-center gap-4 cursor-pointer transition-all ${activeClass}">
                    <span class="w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center font-bold text-xs">${String.fromCharCode(65+i)}</span>
                    <span class="text-sm font-semibold">${opt}</span>
                </div>`;
            });
            document.getElementById('optionList').innerHTML = html;
        }

        function selectOption(i) {
            answers[currentQ] = i;
            loadQ();
        }

        // 4. ACTIVATION
        function verifyKey() {
            if(document.getElementById('licenseInput').value === MASTER_KEY) {
                isActivated = true;
                localStorage.setItem('activated', 'true');
                document.getElementById('lockScreen').classList.add('hidden');
                document.getElementById('trialBanner').classList.add('hidden');
                alert("SYSTEM FULLY ACTIVATED!");
            } else {
                alert("Invalid PIN. Contact 09131546480.");
            }
        }

        // 5. AUTO-SAVE & STATE RECOVERY
        function saveState() {
            localStorage.setItem('jamb_state', JSON.stringify({q: currentQ, ans: answers}));
        }

        function recoverState() {
            let state = JSON.parse(localStorage.getItem('jamb_state'));
            if(state) {
                currentQ = state.q;
                answers = state.ans;
            }
        }

        // 6. CALCULATOR
        function cIn(v) { cValue += v; document.getElementById('calcDisp').innerText = cValue; }
        function cRes() { cValue = ""; document.getElementById('calcDisp').innerText = "0"; }
        function cEq() { try { cValue = eval(cValue).toString(); document.getElementById('calcDisp').innerText = cValue; } catch { cRes(); } }

        window.onload = () => {
            recoverState();
            if(isActivated) {
                document.getElementById('trialBanner').classList.add('hidden');
            }
        };
    </script>
</body>
</html>
